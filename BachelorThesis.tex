\documentclass[hsr-ba,english]{hgbthesis}
% Zulässige Class Options: 
%   Typ der Arbeit: diplom, master (default), bachelor, praktikum 
%   Hauptsprache: german (default), english
%%------------------------------------------------------------
\errorcontextlines 10000
% !TeX spellcheck = en_GB

\graphicspath{{images/}}    % wo liegen die Bilder? 
\bibliography{literatur}  	% Angabe der BibTeX-Datei, % utf8-change

\usepackage{multirow,slashbox,courier,lscape,tablefootnote,hyperref}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage[toc]{glossaries}

% code listing packages
\usepackage{geometry}
\usepackage{listings}
\usepackage{color}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

\usepackage{pdfpages}
\usepackage{framed}

\usepackage[all]{nowidow}

\usepackage{graphicx}

\usepackage{epigraph}
\usepackage{csquotes} % \enquote{quoted text}

\setacronymstyle{long-short} % creates example(EX) for the first usage and EX for the following usages of an acronym
\makeglossaries


\loadglsentries{glossary}

% no hyphenation for the following words:
%\hyphenation{example}


%%%----------------------------------------------------------
\begin{document}
%%%----------------------------------------------------------

% use \bigskip for paragraphs that to not belowng to the section anymore. 
% (e.g. conclusions of chapters)
\bigskipamount=30pt

% Einträge für ALLE Arbeiten: --------------------------------
\title{Service Cutter (Working title)}
\subtitle{a catchy subtitle...}
\author{Michael Gysel \& Lukas K\"{o}lbener}
\studiengang{Computer Science}
\studienort{Rapperswil}
\abgabedatum{2015}{12}{18}	% {YYYY}{MM}{DD}

%%% zusätzlich für eine Bachelorarbeit: ---------------------
%\semester{Spring semester 2015} 
%\gegenstand{Enterprise Application Integration} 
%\betreuer{Olaf Zimmermann} % oder \betreuerin{..}

%\strictlicense  % erzeugt restriktive Lizenzformel

%%%----------------------------------------------------------
\frontmatter
\maketitle
\setcounter{tocdepth}{1}
\tableofcontents
%%%----------------------------------------------------------

\include{abstract}			

%%%----------------------------------------------------------
\mainmatter         % Hauptteil (ab hier arab. Seitenzahlen)
%%%----------------------------------------------------------

% Don't show "Chapter X" titles for every Chapter
\makeatletter
\renewcommand{\@makechapterhead}[1]{%
\vspace*{50 pt}%
{\setlength{\parindent}{0pt} \raggedright \normalfont
\bfseries\Huge\thechapter.\ #1
\par\nobreak\vspace{40 pt}}}
\makeatother


\include{managementsummary}
\include{introduction}

\chapter{Analysis}
\label{cha:analysis}

introduction sentence
=> Define decomposition


\section{What is a Service?}

\textit{Serivce} is one of the most used words in the field of software architecture and has been differently defined in many papers, books and blogposts in various contexts. 

The \enquote{The 4+1 View Model of Software Architectureby} by Philippe Kruchten\cite{fourPlusOne} suggests to describe software architecture using multiple views like a \enquote{Logical-}, \enquote{Physical-}, \enquote{Development-} or  \enquote{Process-}View. During the research for this thesis we discovered that the difficulty to clearly define the word Service lies in the fact that different definitions focus on contrasting views. For this thesis we use multiple definitions for the word Service depending if we talk about the \textit{logical} or the \textit{technical} view of a service.

\subsection{Logical Service}

\begin{quotation}
A service is the technical authority for a specific business capability --- Udi Dahan\cite{serviceDefinitionDahan}
\end{quotation}
   
This definition focuses more on the logical or business view of a service than it's technical representation. All data and rules required to fulfil a business specification are owned by one and only one Service. 

This definition implies that a Service is not restricted to a specific application, process, technology or layer. In fact it contains required layers itself, including databases, logic and \gls{UI} code.

A logical service is autonomous and can be composed of many processes, webservices or databases, but keeps a clear boundary and interface against the outer world. Communication with other parts of the system only happens on a well defined interface on a common communication channel.

\subsubsection{Bounded Context}

Another concept describing logical Services is the bounded context as defined in the Domain-Driven Design:\cite{evans2014domain}

\begin{quotation}
	A description of a boundary (typically a subsystem, or the work of a particular team) within which a particular model is defined and applicable.
\end{quotation}

A model only used within one bounded context is defined and visible only in that context. Accordingly a model used in multiple Services needs to have a globally shared definition, defined as \textit{Published Language} in the context of \gls{DDD}\cite{evans2014domain}:

\begin{quotation}
	The translation between the models of two bounded contexts requires a common Language.
\end{quotation}

The process of Service decomposition done by the Service Cutter automatically defines the published language of the system. 

\subsection{Technical Service}

Martin Fowler describes a Service as following:

\begin{quotation}
	A service will be used remotely through some remote interface, either synchronous or asynchronous.\cite{fowlerIoC}
\end{quotation}

This definition by Martin Fowler is much more technical oriented and is close to what recently has been advertised as \textit{Microservice}:

\begin{quotation}
	In short, the microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API.\cite{fowlerMicroservice}
\end{quotation}


A process providing a remote API might provide business logic, pure technical functionality or a data store, of which the latest is often seen nowadays wrapped by a RESTful HTTP API. A technical Service might be congruent with a logical Service but very often more complex cases split logical Services in multiple technical Services. 

\subsection{Should the Service Cutter produce Logical or Technical Service Candidates?}

While every logical reason to define Service boundaries applies to logical and technical Services, technical reasons like technology constraints might define additional technical Service boundaries. We do not strictly define what kind of Services the Service Cutter suggests. But given that the Service Cutter mostly focusses on logical criteria it could well be that a suggested Service needs to be further decomposed due to technological reasons.

The factors driving the decomposition of a system into Services are discussed in more detail in the next section.

\section{Driving Factors for Service Decomposition}

Well experienced software architects decompose systems by reason of multiple factors to ensure a maintainable, stable and secure system with business relevance and good performance. This section describes the factors mostly considered by architects. The content of this section is based on research, our own experience and discussions with our industry partner Zühlke AG. 

\subsection{Decomposition Principles}

Decomposition --- the craft of splitting a system into smaller parts --- has been a main discipline for programmers since early in the history of our industry. David L. Parnas published a paper entitled \enquote{On the Criteria To Be Used in Decomposing Systems into Modules} in 1972\cite{parnaDecomposing}. Shortly after, the terms \textit{coupling} and \textit{cohesion} as software design metrics appeared as part of the Structured Design technique\cite{structuredDesign}:

\begin{description}
	\item[Loose Coupling] In computing and systems design a loosely coupled system is one in which each of its components has, or makes use of, little or no knowledge of the definitions of other separate components.\cite{looseCoupling}
	\item[High Cohesion] In object-oriented programming, if the methods that serve a class tend to be similar in many aspects, then the class is said to have high cohesion. In a highly cohesive system, code readability and reusability is increased, while complexity is kept manageable.\cite{highCohesion}
\end{description}

Robert Martin later described a general principle to achieve loose coupling and high cohesion:

\begin{description}
	\item[Single Responsibility Principle] Gather together the things that change for the same reasons. Separate those things that change for different reasons.\cite{SRP}
\end{description}

Starting from these principles, we analysed different types and reasons for coupling and cohesion as described in the next section.

\subsection{Coupling Criteria}

A Coupling Criteria describes a reason why two data fields should or should not be owned by the same Service. These Criteria define the semantic model on which the Service Cutter is built on. 


TODO: List of identified coupling criteria


%TODO User stories as most important criteria: check Ivar Jacobson, oose, a use case driven approach

%TODO: Should we describe non relevant coupling criteria as well? (Hiding design decisions etc, see CC catalog doc)

%TODO: (Bring result \& discussion already here?)

\chapter{Requirements}
\label{cha:requirements}

This chapter describes the (non-)functional requirements of the target solution and covers the characteristics of it's target users. 

The requirements in this chapter are not prioritised. As part of the sprint planning meetings, these requirements are transformed to tasks and prioritised. The description in this chapter is meant to provide a high level overview and establish a common sense between all stakeholders of this project.

\input{requirements/personas}
\input{requirements/functional}
\input{requirements/nonfunctional}


\bigskip

After defining all (non-)functional requirements, the next Chapter outlines design and implementation steps which were taken to satisfy these requirements.


\chapter{Design and Implementation}
\label{cha:implementation}


\section{Design} 


\subsection{Technology}


\subsection{Infrastructure}



\bigskip
After covering the important design and implementation aspects, the next chapter assesses the built solution described in this chapter against the defined requirements.

\chapter{Working with the Service Cutter}
%TODO: Does this chapter make sense? it could cover the process of working with the service cutter, finding the needed information, intepreting the results and using it for decision finding and documentations (ADs). Giersche highly recommended/requested this. 

How do you initially populate all the coupling data? LOTS of knowledge is required!
o   How do you organize such an interview?

\chapter{Conclusion}


\section{Future Work}

* Caching (Data Redundancy) as a way to reduce temporary reduce coupling between services could be a further suggestions of the Service Cutter

* Suggestions for APIs (REST) or Message types 


%%%----------------------------------------------------------
%%%Anhang
\appendix



\chapter{Parking Lot}
document not so important findings here	

* Resilience not only per Field definition but also per Instance definition 

* Find Aggregates from Consistency data? Aggregates should not be split between services.

\chapter{Project Management}
\label{cha:projectmgmt}

This Appendix documents aspects of project management like methodology, roles, environment, quality management, and risk management. The project was time boxed and started on \formatdate{14}{9}{2015} and ended on \formatdate{18}{12}{2015} which implies 14 working weeks. 

\input{projectmgmt/milestones}
\input{projectmgmt/plan}
\input{projectmgmt/risk}
\input{projectmgmt/environment}

\chapter{Meetings}

All minutes of meetings of the status meetings and workshops are listed in
this chapter.

\input{meetings/projectstatus}
\input{meetings/workshop}

%\input{projectmgmt/scrum}
%\input{projectmgmt/roles}


%\include{projectmgmt/risk_management}

%\include{anhang_a}	% 
%\include{anhang_b} % 
%\include{anhang_c} % 
%\include{anhang_d} % 
%\include{anhang_e} % 

%\renewcommand{\glossarypreamble}{Descriptions of Glossary items have mainly been taken from Wikipedia.org.\newline\newline}

\printglossaries


%%%----------------------------------------------------------
\MakeBibliography
%%%----------------------------------------------------------


\end{document}
